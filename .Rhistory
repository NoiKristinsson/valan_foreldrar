dataf <- dataf[-1:-2,]
dataf$kennitala barns <- NA
dataf$kennitalabarns <- NA
View(dataf)
nrow(dataf)
ncol(dataf)
dataf[,c(1,11,2:10)]
head(dataf[,c(1,11,2:10)])
dataf <- dataf[,c(1,11,2:10)]
if(is.na(dataf$Aðstandandi)){dataf$kennitalabarns <- dataf$Kennitala}
dataf <-
if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- dataf$Kennitala}
kenntolu.fix <- if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- dataf$Kennitala}
kenntolu.fix <- if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- dataf$Kennitala}
if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- dataf$Kennitala}
if(is.na(dataf$Aðstandandi)){dataf$kennitalabarns <- dataf$Kennitala}
dataf[,"Aðstandandi"]
dataf[,Aðstandandi]
dataf["Aðstandandi",]
dataf["Aðstandandi"]
dataf[,5]
dataf[,3]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
kenntolu.fix <- if(is.na(dataf[,"Aðstandandi"])) {dataf$kennitalabarns <- dataf$Kennitala}
kenntolu.fix <- function(x){
if(is.na(dataf[,"Aðstandandi"])) {dataf$kennitalabarns <- dataf$Kennitala}
}
lapply(dataf$kennitala, kennitolu.fix)
kenntolu.fix <- function(x){
if(is.na(dataf[,"Aðstandandi"])) {dataf$kennitalabarns <- x}
}
kennitolu.fix <- function(x){
if(is.na(dataf[,"Aðstandandi"])) {dataf$kennitalabarns <- x}
}
lapply(dataf$kennitala, kennitolu.fix)
warnings()
dataf$kennitalabarns <- lapply(dataf$kennitala, kennitolu.fix)
kennitolu.fix <- function(x){
if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- x}
}
dataf$kennitalabarns <- lapply(dataf$kennitala, kennitolu.fix)
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
if(is.na(dataf$Aðstandandi)) {dataf$kennitalabarns <- dataf$Kennitala}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
dataf$kennitalabarns <- lapply(dataf$kennitala, kennitolu.fix)
?for
in
for(i in dataf$Kennitala){
if(is.na(dataf$Aðstandandi){ dataf$kennitalabarns <- dataf$Kennitala })
}
for(i in dataf$Kennitala){
if(is.na(dataf$Aðstandandi){ dataf$kennitalabarns <- dataf$Kennitala })
}
{ dataf$kennitalabarns <- dataf$Kennitala }
for(i in dataf$Kennitala){
if(is.na(dataf$Aðstandandi))
{dataf$kennitalabarns <- dataf$Kennitala}
}
if(is.na(i))
for(i in dataf$Kennitala){
if(is.na(i))
{dataf$kennitalabarns <- dataf$Kennitala}
}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Kennitala){
if(is.na(i))
{dataf$kennitalabarns <- dataf$Kennitala}
}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Kennitala){
if(is.na(i))
{dataf$kennitalabarns <- dataf$Kennitala}
}
is.na(dataf[6,3])
is.na(dataf[6,1])
is.na(dataf[6,2])
is.na(dataf[6,3])
is.na(dataf[1,3])
is.na(dataf[1,1])
is.na(dataf[1,2])
dataf[1,2]
is.na(dataf[1,6])
is.na(dataf[2,6])
is.na(dataf[3,6])
is.na(dataf[4,6])
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Kennitala){
if(is.na(i))
{dataf$kennitalabarns <- dataf$Kennitala}
else
{dataf$kennitalabarns <- NA}
}
dataf$Kennitala
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Aðstandandi){
if(is.na(i))
{dataf$kennitalabarns <- dataf$Kennitala}
else
{dataf$kennitalabarns <- NA}
}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Aðstandandi){
if(is.na(i))
print(i)
{dataf$kennitalabarns <- dataf$Kennitala}
}
dataf$Aðstandandi
for(i in dataf$Aðstandandi){
if(!is.na(i))
print(i)
{dataf$kennitalabarns <- NA}
else
{dataf$kennitalabarns <- dataf$Kennitala}
}
for(i in dataf$Aðstandandi){
if(!is.na(i))
{dataf$kennitalabarns <- NA}
else
{dataf$kennitalabarns <- dataf$Kennitala}
}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
for(i in dataf$Aðstandandi){
if(!is.na(i))
{dataf$kennitalabarns <- NA}
else
{dataf$kennitalabarns <- dataf$Kennitala}
}
?length
if(length(dataf$Aðstandandi) !=0)
{dataf$kennitalabarns <- dataf$Kennitala}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
if(length(dataf$Aðstandandi) !=0)
{dataf$kennitalabarns <- dataf$Kennitala}
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
if(length(dataf$Aðstandandi) ==0)
{dataf$kennitalabarns <- dataf$Kennitala}
length(dataf[2,6]))
length(dataf[2,6])
length(dataf[1,6])
length(dataf[3,6])
length(dataf[4,6])
length(dataf[5,6])
dataf$Aðstandandi[is.na(dataf$Aðstandandi)] <- as.character(TEST$STATUS[is.na(TEST$UNIT)])
dataf$kennitalabarns[is.na(dataf$Aðstandandi)] <- as.character(dataf$Kennitala)
dataf$kennitalabarns[is.na(dataf$Aðstandandi)] <- as.numeric(dataf$Kennitala)
str(dataf)
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- NA
dataf <- dataf[,c(1,11,2:10)]
str(dataf)
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(NA)
dataf <- dataf[,c(1,11,2:10)]
str(dataf)
dataf$kennitalabarns[is.na(dataf$Aðstandandi)] <- as.numeric(dataf$Kennitala)
nrow(dataf)
dataf <- dataf[-nrow(dataf)]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-1:-2,]
dataf <- dataf[-nrow(dataf)]
dataf$kennitalabarns <- as.character(NA)
dataf <- dataf[,c(1,11,2:10)]
last.row <- nrow(dataf)
dataf <- dataf[-last.row]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
last.row <- nrow(dataf)
dataf <- dataf[-last.row]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(NA)
dataf <- dataf[,c(1,11,2:10)]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
last.row <- nrow(dataf)
dataf <- dataf[-last.row]
dataf <- dataf[-858]
dataf <- dataf[-nrow(dataf),]
dataf <- read.xlsx("listi.xlsx")
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-nrow(dataf),]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(NA)
dataf <- dataf[,c(1,11,2:10)]
dataf <- dataf[!is.na(dataf$Aðstandandi),]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-nrow(dataf),]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(NA)
dataf <- dataf[,c(1,11,2:10)]
dataf$kennitalabarns[is.na(dataf$Aðstandandi)] <- as.numeric(dataf$Kennitala)
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-nrow(dataf),]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(0000000000)
dataf <- dataf[,c(1,11,2:10)]
dataf$kennitalabarns[is.na(dataf$Aðstandandi)] <- as.numeric(dataf$Kennitala)
?ifelse
dataf$kennitalabarns <- ifelse(is.na(dataf$Aðstandandi), dataf$Kennitala, NA)
dataf$kennitalabarns <- na.locf(dataf$kennitalabarns)
dataf$Barn <- na.locf(dataf$Barn)
dataf$Deild <- na.locf(dataf$Deild)
test <- dataf[!is.na(dataf$Aðstandendur)]
test <- dataf[!is.na(dataf$Aðstandandi)]
test <- dataf[!is.na(dataf$Aðstandandi),]
test
sprintf("%10s", as.character(test$Kennitala))
?sprintf
sprintf("%010s", as.character(test$Kennitala))
dataf$Kennitala <- sprintf("%010s", as.character(test$Kennitala))
dataf$kennitalabarns <- sprintf("%010s", as.character(test$kennitalabarns))
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-nrow(dataf),]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(0000000000)
dataf <- dataf[,c(1,11,2:10)]
dataf$kennitalabarns <- ifelse(is.na(dataf$Aðstandandi), dataf$Kennitala, NA)
dataf$kennitalabarns <- na.locf(dataf$kennitalabarns)
dataf$Barn <- na.locf(dataf$Barn)
dataf$Deild <- na.locf(dataf$Deild)
dataf <- dataf[!is.na(dataf$Aðstandandi),]
dataf$Kennitala <- sprintf("%010s", as.character(test$Kennitala))
dataf$kennitalabarns <- sprintf("%010s", as.character(test$kennitalabarns))
dataf.emails <- dataf
bil <- " // "
template <- read.csv("templ.csv")
View(template)
template <- NULL
template <- read.csv("templ.csv")
template[NULL,]
template[NULL,]
template <- template[NULL,]
dput(template)
the.template <- dput(template)
View(template)
template[2,1] <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
dataf.emails$Barn <- lapply(dataf$Barn, shorten)
dataf.emails$Aðstandandi <- lapply(dataf$Aðstandandi, shorten)
shorten <- function(x){
if (str_count(x, " ") == 1) {
paste(word(x,1), collapse = " ")
} else {
paste(word(x,1:2), collapse = " ")
}
}
dataf.emails$Barn <- lapply(dataf$Barn, shorten)
dataf.emails$Aðstandandi <- lapply(dataf$Aðstandandi, shorten)
template[2,1] <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
for(i in dataf.emails){
template[2,counter] <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
counter <- counter + 1
}
counter <- 1
for(i in dataf.emails){
template[2,counter] <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
counter <- counter + 1
}
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
template[2,counter] <- csv.name
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
csv.email <- dataf.emails$Netfang
template[2,counter] <- csv.name
counter <- counter + 1
}
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[2,counter] <- csv.name
counter <- counter + 1
}
counter <- 1
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[counter,2] <- csv.name
counter <- counter + 1
}
test <- dataf.emails
test = data.frame(matrix("", ncol = 566)
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[counter,2] <- csv.name
counter <- counter + 1
}
test = data.frame(matrix("", ncol = 566)
)
View(test)
test <- dataf.emails
test = data.frame(matrix("", nrow = 566)
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[counter,2] <- csv.name
counter <- counter + 1
}
test = data.frame(matrix("", nrow = 566)
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[counter,2] <- csv.name
counter <- counter + 1
}
test = data.frame(matrix("", nrow = 566)
test <- dataf.emails
test <- template
test = data.frame(matrix("", nrow = 566)
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
template[counter,2] <- csv.name
counter <- counter + 1
}
test <- template
test = data.frame(matrix("", nrow = 566))
test <- template
test <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(dataf.emails)))
test <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(dataf.emails)))
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
test[counter,2] <- csv.name
counter <- counter + 1
}
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
test[1,2] <- csv.name
counter <- counter + 1
}
template <- read.csv("templ.csv")
template <- template[NULL,]
template <- read.csv("data/templ.csv")
template <- template[NULL,]
dataf <- read.xlsx("listi.xlsx")
colnames(dataf) <- dataf[2,]
dataf <- dataf[-nrow(dataf),]
dataf <- dataf[-1:-2,]
dataf$kennitalabarns <- as.character(0000000000)
dataf <- dataf[,c(1,11,2:10)]
dataf$kennitalabarns <- ifelse(is.na(dataf$Aðstandandi), dataf$Kennitala, NA)
bil <- " // "
dataf$kennitalabarns <- na.locf(dataf$kennitalabarns)
dataf$Barn <- na.locf(dataf$Barn)
dataf$Deild <- na.locf(dataf$Deild)
dataf <- dataf[!is.na(dataf$Aðstandandi),]
dataf$Kennitala <- sprintf("%010s", as.character(test$Kennitala))
dataf$kennitalabarns <- sprintf("%010s", as.character(test$kennitalabarns))
dataf$Kennitala <- sprintf("%010s", as.character(dataf$Kennitala))
dataf$kennitalabarns <- sprintf("%010s", as.character(dataf$kennitalabarns))
dataf.emails <- dataf
shorten <- function(x){
if (str_count(x, " ") == 1) {
paste(word(x,1), collapse = " ")
} else {
paste(word(x,1:2), collapse = " ")
}
}
dataf.emails$Barn <- lapply(dataf$Barn, shorten)
dataf.emails$Aðstandandi <- lapply(dataf$Aðstandandi, shorten)
counter <- 1
test <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(dataf.emails)))
test <- template
test <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(dataf.emails)))
for(i in dataf.emails){
csv.name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
print(csv.name)
csv.email <- dataf.emails$Netfang
test[1,2] <- csv.name
counter <- counter + 1
}
test$X2 <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
email.datab <- template
email.datab$E.mail.Address <- dataf.emails$Netfang
email.datab$E.mail.Address <- paste0(dataf.emails$Netfang)
email.datab <- template
email.datab$First.Name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
test <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(template)))
names(email.datab) <- templates
names(email.datab) <- template
View(dataf.emails)
email.datab <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(template)))
View(email.datab)
names(email.datab) <- template
colnames(email.datab) <- template
email.datab <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(template)))
colnames(email.datab) <- template
email.datab <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(template)))
email.datab2 <- template
rbind(email.datab, email.datab2)
test <- rbind(email.datab2, email.datab)
test <- rbind(email.datab, email.datab2)
colcnames(template)
colcname(template)
colnames(template)
colnames(test) <- colnames(template)
email.datab <- rbind(email.datab, email.datab2)
colnames(email.datab) <- colnames(template)
email.datab$First.Name <- paste0(dataf.emails$Barn, bil, dataf.emails$Netfang)
email.datab$First.Name <- paste0(dataf.emails$Barn, bil, dataf.emails$Aðstandandi)
email.datab$E.mail.Address <- paste0(dataf.emails$Netfang)
f.foreldraf. <- data.frame(matrix("", nrow = nrow(dataf.emails), ncol= ncol(5)))
f.foreldraf. <- data.frame(matrix(data=NA, nrow = nrow(dataf.emails), ncol= ncol(5)))
f.foreldraf. <- as.data.frame(matrix(data=NA, nrow = nrow(dataf.emails), ncol= ncol(5)))
f.foreldraf. <- as.data.frame(matrix(data=NA, nrow = nrow(dataf.emails), ncol=5))
f.foreldraf. <- as.data.frame(matrix("", nrow = nrow(dataf.emails), ncol=5))
View(f.foreldraf.)
f.foreldraf <- as.data.frame(matrix("", nrow = nrow(dataf.emails), ncol=5))
colnames(f.foreldraf) <- c("Nafn barns", "Kennitala barns", "Nafn Foreldris", "Kennitala Foreldris", "Vefpóstur")
View(f.foreldraf)
colnames(f.foreldraf) <- c("Nafn barns", "Kennitala barns", "Nafn foreldris", "Kennitala foreldris", "Vefpóstur")
view(dataf)
View(dataf)
colnames(f.foreldraf) <- c("Nafn barns", "Kennitala barns", "Nafn aðstandanda", "Kennitala aðstandanda", "Vefpóstur")
f.foreldraf$`Nafn barns` <- paste0(dataf$Netfang)
f.foreldraf$`Kennitala barns` <- paste0(dataf$kennitalabarns)
f.foreldraf$`Nafn aðstandanda` <- paste0(dataf$Aðstandandi)
f.foreldraf$`Kennitala aðstandanda` <- paste0(dataf$Kennitala)
f.foreldraf$Vefpóstur <- paste0(dataf$Netfang)
f.foreldraf$`Nafn barns` <- paste0(dataf$Barn)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
read.xlsx(inFile$datapath, 1)
inFile <- input$uploadFile
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
source('app.R')
runApp()
runApp()
